<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Flussonic IPTV</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Segoe UI', Arial, sans-serif;
            background: #1a202c;
            color: #e2e8f0;
        }
        .sidebar {
            width: 250px;
            background: #2d3748;
            height: 100vh;
            position: fixed;
            padding: 20px;
        }
        .main {
            margin-right: 250px;
            padding: 20px;
        }
        .card {
            background: #2d3748;
            border-radius: 10px;
            padding: 20px;
            margin: 10px;
        }
        .btn {
            background: #4299e1;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <div class="sidebar">
        <h2>ğŸ¬ Flussonic IPTV</h2>
        <ul>
            <li>ğŸ“Š Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</li>
            <li>ğŸ“º Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¨Ø«</li>
            <li>ğŸ‘¥ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†</li>
            <li>âš™ï¸ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</li>
            <li>ğŸ“ˆ Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª</li>
        </ul>
    </div>
    
    <div class="main">
        <h1>Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ ÙÙŠ Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</h1>
        
        <div class="card">
            <h3>Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª</h3>
            <p>Ø§Ù„Ø¨Ø«ÙˆØ« Ø§Ù„Ù†Ø´Ø·Ø©: <span id="active-streams">0</span></p>
            <p>Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙˆÙ† Ø§Ù„Ù†Ø´Ø·ÙˆÙ†: <span id="active-users">0</span></p>
        </div>
        
        <div class="card">
            <h3>Ø¥Ø¶Ø§ÙØ© Ø¨Ø« Ø¬Ø¯ÙŠØ¯</h3>
            <input type="text" placeholder="Ø§Ø³Ù… Ø§Ù„Ø¨Ø«" id="stream-name">
            <input type="text" placeholder="Ø±Ø§Ø¨Ø· Ø§Ù„Ù…ØµØ¯Ø±" id="stream-source">
            <button class="btn" onclick="addStream()">Ø¥Ø¶Ø§ÙØ©</button>
        </div>
    </div>
    
    <script>
        async function loadStats() {
            const res = await fetch('/api/system/stats');
            const data = await res.json();
            document.getElementById('active-streams').textContent = data.streams;
        }
        
        async function addStream() {
            const name = document.getElementById('stream-name').value;
            const source = document.getElementById('stream-source').value;
            
            await fetch('/api/streams', {
                method: 'POST',
                headers: {'Content-Type': 'application/json'},
                body: JSON.stringify({name, source})
            });
            
            alert('ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø¨Ø« Ø¨Ù†Ø¬Ø§Ø­');
        }
        
        loadStats();
    </script>
</body>
</html>
